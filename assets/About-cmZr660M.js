import{j as e,r as u,a as p}from"./index-LGQWu6kt.js";import{a as v,H as b,B as _,F as h}from"./useResetScroll-0wTpHEcu.js";function d({title:r,text:t=[],style:o={},idName:c}){return e.jsxs("article",{className:"about_card",id:c,style:o,children:[e.jsx("h3",{className:"h3",children:r}),t.map((i,s)=>e.jsx("p",{className:"paragraph",children:i},s))]})}function m({title:r,value:t,scrollActive:o}){const[c,i]=u.useState(""),s=u.useRef();return u.useEffect(()=>{let n="";for(let a=0;a<=t;a++)n+=`<span class="about_us_stat_card__value">${a}</span>`;i(n)},[t]),u.useEffect(()=>{if(o){const{scrollHeight:a}=s.current;s.current.scroll({top:a,behavior:"smooth"})}else s.current.scroll({top:0,behavior:"smooth"});const n=a=>a.preventDefault();return s.current.addEventListener("wheel",n),s.current.addEventListener("touchmove",n),()=>{var a,l;(a=s.current)==null||a.removeEventListener("wheel",n),(l=s.current)==null||l.removeEventListener("touchmove",n)}},[s,o]),e.jsxs("div",{className:`about_us_stat_card ${o&&"scroll"}`,children:[e.jsx("div",{className:"about_us_stat_card__value__wrapper",dangerouslySetInnerHTML:{__html:c},ref:s}),e.jsx("span",{className:"about_us_stat_card__title h6",children:r})]})}function f(){const[r,t]=u.useState(!1),o=u.useRef(),{t:c}=p();return u.useEffect(()=>{const i={root:null,rootMargin:"20px",threshold:1},s=new IntersectionObserver(n=>{const[a]=n;a.isIntersecting?t(!0):t(!1)},i);return o.current&&s.observe(o.current),()=>{o.current&&s.unobserve(o.current)}},[o]),e.jsxs("div",{className:"about_us_stats",ref:o,children:[e.jsx(m,{title:c("aboutPage.customers"),value:10,scrollActive:r}),e.jsx(m,{title:c("aboutPage.projects"),value:8,scrollActive:r})]})}function g(){const{t:r}=p();v();const t={ourStory:r("aboutPage.ourStory",{returnObjects:!0}),ourMission:r("aboutPage.ourMission",{returnObjects:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsxs("main",{style:{position:"relative"},children:[e.jsx(_,{title:r("aboutPage.title"),image:"/media/construction-site.jpg"}),e.jsxs("div",{className:"about_wrapper",children:[e.jsx(d,{title:r("aboutPage.ourStoryTitle"),text:t==null?void 0:t.ourStory,idName:"ourStory"}),e.jsx(d,{title:r("aboutPage.ourMissionTitle"),text:t==null?void 0:t.ourMission,idName:"ourMission"})]}),e.jsx(f,{})]}),e.jsx(h,{})]})}export{g as Component};
